
const generateReview = require('../services/ai.service');

module.exports.getGameReview = async (req, res)=>{

    try {
        const { gridSize, moves, time, efficiency } = req.body;

        if(!gridSize || !moves || !time ){
            return res.status(400).json({ error: "gridSize, moves and time are required fields." });
        }

        const review = await generateReview({
            gridSize,
            moves,
            time,
            efficiency,
        });

        res.status(200).json({ review });
        
    } catch (error) {
        console.error('Error generating review:', error);
        res.status(500).json({
            review: "Here Find game review generated by AI.",
        })
    }

    // const prompt = req.query.prompt;
    
    // if(!prompt){
    //     return res.status(400).send("Prompt is required");
    // }

    // const response = await generateReview(prompt);

    // res.send(response);
}